<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>SOCIAL BOOSTE HORIZON</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    /* ========== Styles généraux ========== */
    body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f4f4f4; color:#333; }
    header { background:#047aed; color:#fff; padding:20px; position:relative;
      display:flex; align-items:center; justify-content:center; flex-wrap: wrap; }
    .logo img { height:50px; margin-right:15px; }
    header h1 { margin:0; font-size:1.8rem; }
    #site-search { margin-top:15px; width:80%; max-width:300px; padding:8px; border-radius:4px; border:none; }
    section { padding:20px; max-width:1000px; margin:20px auto; background:#fff; border-radius:8px; }
    h2 { color:#047aed; border-bottom:2px solid #047aed; padding-bottom:5px; }
    .btn { display:inline-block; margin-top:10px; background:#25D366; color:#fff; padding:10px 15px; text-decoration:none; border-radius:5px; font-weight:bold; }
    .btn-secondary { background:#ffc107; color:#222; margin-left:10px; }
    .form-container input, .form-container select, .form-container button {
      width:100%; padding:10px; margin:8px 0; border-radius:4px; border:1px solid #ccc;
    }
    .form-container .btn-form { background:#047aed; color:#fff; border:none; cursor:pointer; }
    .banner img { width:100%; height:60vh; object-fit:cover; display:block; }
    .testimonial img { width:100%; max-width:800px; margin:30px auto; display:block; border-radius:8px; box-shadow:0 2px 6px rgba(0,0,0,0.1); }
    footer { background:#222; color:#fff; text-align:center; padding:20px; }
    footer a { color:#00ffcc; text-decoration:none; margin:0 10px; }

    /* ========== Menu hamburger ========== */
    .hamburger-btn { background:none; border:none; cursor:pointer;
      display:flex; flex-direction:column; gap:4px; position:absolute; left:20px; top:20px; }
    .hamburger-btn span { width:25px; height:3px; background:#fff; border-radius:2px; }
    .nav-menu { display:none; background:#047aed; position:absolute; top:70px; right:0; width:200px; border-radius:0 0 5px 5px; z-index:1000; }
    .nav-menu ul { list-style:none; margin:0; padding:0; }
    .nav-menu li { border-bottom:1px solid rgba(255,255,255,0.2); }
    .nav-menu li:last-child { border-bottom:none; }
    .nav-menu a { display:block; padding:10px 15px; color:#fff; text-decoration:none; font-weight:bold; }
    .nav-menu a:hover { background:rgba(255,255,255,0.2); }
    @media(min-width:768px){
      .hamburger-btn { display:none; }
      .nav-menu { display:block; position:static; width:auto; background:transparent; }
      .nav-menu ul { display:flex; gap:15px; }
      .nav-menu a { padding:0; }
    }

    /* ========== Commandes ========== */
    .custom-order { display:none; margin-top:15px; padding:15px; border:1px solid #ddd; border-radius:5px; background:#fafafa; }
    .custom-order label { display:block; margin:8px 0; }
    .custom-order input, .custom-order select, .custom-order textarea { width:100%; padding:5px; border:1px solid #ccc; border-radius:4px; }
    .custom-order .co-send { margin-top:10px; background:#25D366; color:#fff; padding:8px 12px; border:none; border-radius:5px; font-weight:bold; cursor:pointer; }
    .price-estimate { margin-top:10px; font-weight:bold; color:#047aed; }

    /* ========== Tarifs ========== */
    #tarifs .tarif-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(240px,1fr)); gap:20px; }
    .tarif-section { padding:15px; border:1px solid #ddd; border-radius:5px; background:#fff; }
    .tarif-section h3 { color:#047aed; margin-bottom:10px; }
    .tarif-section table { width:100%; border-collapse:collapse; }
    .tarif-section th, .tarif-section td { border:1px solid #ddd; padding:8px; text-align:center; }
    .tarif-section th { background:#f4f4f4; }

    /* ========== Profil ========== */
    #profile-section { display:none; max-width:500px; margin:20px auto; background:#fff; padding:20px; border:1px solid #ddd; border-radius:8px; }
    #profile-section label { display:block; margin:10px 0; }
    #profile-section input { width:100%; padding:8px; border:1px solid #ccc; border-radius:4px; }
    #profile-section button { margin-top:10px; padding:10px; border:none; border-radius:5px; cursor:pointer; }
  </style>
</head>
<body>

  <!-- HEADER -->
  <header id="top">
    <div class="logo"><img src="img/logo.png" alt="Logo"></div>
    <h1>SOCIAL BOOSTE HORIZON</h1>
    <input id="site-search" type="text" placeholder="Rechercher...">
    <button id="hamburger-btn" class="hamburger-btn" aria-label="Menu"><span></span><span></span><span></span></button>
  </header>

  <!-- NAVIGATION -->
  <nav id="nav-menu" class="nav-menu">
    <ul>
      <li><a href="#top" onclick="scrollToTop()">Accueil</a></li>
      <li><a href="#compte" onclick="showProfile(auth.currentUser); closeMenu()">Mon compte</a></li>
      <li><a href="#commandes" onclick="showOrders(); closeMenu()">Mes commandes</a></li>
      <li><a href="#a-propos">À propos</a></li>
      <li><a href="#confidentialite">Confidentialité</a></li>
      <li><a href="#deconnexion" onclick="logout(); closeMenu()">Déconnexion</a></li>
    </ul>
  </nav>

  <!-- BANNIÈRE -->
  <div class="banner"><img src="img/banner.jpg" alt="Bannière"></div>

  <!-- PRÉSENTATION -->
  <section id="presentation">
    <h2>Présentation</h2>
    <p>Bienvenue chez <strong>Social Boost Horizon</strong>, votre partenaire de confiance pour développer votre présence en ligne.</p>
  </section>

  <!-- SERVICES -->
  <!-- 1. Boostage sur les réseaux sociaux -->
  <section class="service" data-service="facebook">
    <h2>1. Boostage sur les réseaux sociaux</h2>
    <a class="btn" href="https://wa.me/237699853665?text=Je%20veux%201000%20followers%20Facebook" target="_blank">Commander via WhatsApp</a>
    <button class="btn btn-secondary toggle-form">Personnaliser la commande</button>
    <div class="custom-order">
      <label>Plateforme :
        <select class="co-platform">
          <option value="facebook">Facebook</option>
          <option value="tiktok">TikTok</option>
          <option value="instagram">Instagram</option>
          <option value="youtube">YouTube</option>
        </select>
      </label>
      <label>Service : <select class="co-service"></select></label>
      <label>Quantité : <input type="number" class="co-quantity" placeholder="Ex. 1500"></label>
      <label>Lien de la publication : <input type="text" class="co-link" placeholder="URL"></label>
      <p class="price-estimate"></p>
      <button class="co-send">Acheter</button>
    </div>
  </section>

  <!-- 2. Création de compte TikTok -->
  <section class="service" data-service="tiktok">
    <h2>2. Création de compte TikTok</h2>
    <button class="btn btn-secondary toggle-form">Remplir le formulaire</button>
    <div class="custom-order">
      <label>Prénom : <input type="text" class="co-firstname" placeholder="Prénom"></label>
      <label>Nom : <input type="text" class="co-lastname" placeholder="Nom"></label>
      <label>Date de naissance : <input type="date" class="co-dob"></label>
      <label>Nom de compte : <input type="text" class="co-account" placeholder="Nom de compte"></label>
      <label>E-mail : <input type="email" class="co-email" placeholder="E-mail"></label>
      <label>Téléphone : <input type="tel" class="co-phone" placeholder="Téléphone"></label>
      <label>Pays : <input type="text" class="co-country" placeholder="Pays"></label>
      <button class="co-send">Acheter</button>
    </div>
  </section>

  <!-- 3. Création de pages Facebook pro -->
  <section class="service" data-service="fbpage">
    <h2>3. Création de pages Facebook pro</h2>
    <button class="btn btn-secondary toggle-form">Remplir le formulaire</button>
    <div class="custom-order">
      <label>Prénom : <input type="text" class="co-firstname" placeholder="Prénom"></label>
      <label>Nom : <input type="text" class="co-lastname" placeholder="Nom"></label>
      <label>Date de naissance : <input type="date" class="co-dob"></label>
      <label>Nom de page : <input type="text" class="co-account" placeholder="Nom de page"></label>
      <label>E-mail : <input type="email" class="co-email" placeholder="E-mail"></label>
      <label>Téléphone : <input type="tel" class="co-phone" placeholder="Téléphone"></label>
      <label>Pays : <input type="text" class="co-country" placeholder="Pays"></label>
      <button class="co-send">Acheter</button>
    </div>
  </section>

  <!-- 4. Chanson personnalisée -->
  <section class="service" data-service="chanson">
    <h2>4. Chanson personnalisée</h2>
    <button class="btn btn-secondary toggle-form">Remplir le formulaire</button>
    <div class="custom-order">
      <label>Instructions :<br><textarea class="co-text" rows="4" placeholder="Décrivez votre chanson"></textarea></label>
      <button class="co-send">Acheter</button>
    </div>
  </section>

  <!-- 5. Développement de sites web -->
  <section class="service" data-service="site">
    <h2>5. Développement de sites web</h2>
    <button class="btn btn-secondary toggle-form">Remplir le formulaire</button>
    <div class="custom-order">
      <label>Nom du site : <input type="text" class="co-text" placeholder="Nom du site"></label>
      <label>Idée/objectif : <input type="text" class="co-text" placeholder="Objectif"></label>
      <label>Description :<br><textarea class="co-text" rows="3" placeholder="Description"></textarea></label>
      <label>Autres infos :<br><textarea class="co-text" rows="2" placeholder="Compléments"></textarea></label>
      <button class="co-send">Acheter</button>
    </div>
  </section>

  <!-- 6. Création d’applications mobiles -->
  <section class="service" data-service="app">
    <h2>6. Création d’applications mobiles</h2>
    <button class="btn btn-secondary toggle-form">Remplir le formulaire</button>
    <div class="custom-order">
      <label>Nom de l’application : <input type="text" class="co-text" placeholder="Nom"></label>
      <label>Idée/objectif : <input type="text" class="co-text" placeholder="Objectif"></label>
      <label>Description :<br><textarea class="co-text" rows="3" placeholder="Description"></textarea></label>
      <label>Autres infos :<br><textarea class="co-text" rows="2" placeholder="Compléments"></textarea></label>
      <button class="co-send">Acheter</button>
    </div>
  </section>

  <!-- 7. Création de logos & flyers -->
  <section class="service" data-service="logo">
    <h2>7. Création de logos & flyers</h2>
    <button class="btn btn-secondary toggle-form">Remplir le formulaire</button>
    <div class="custom-order">
      <label>Nom de la marque : <input type="text" class="co-text" placeholder="Nom"></label>
      <label>Idée/objectif : <input type="text" class="co-text" placeholder="Objectif"></label>
      <label>Description :<br><textarea class="co-text" rows="3" placeholder="Description"></textarea></label>
      <label>Autres infos :<br><textarea class="co-text" rows="2" placeholder="Compléments"></textarea></label>
      <button class="co-send">Acheter</button>
    </div>
  </section>

  <!-- 8. VPN -->
  <section class="service" data-service="vpn">
    <h2>8. VPN</h2>
    <button class="btn btn-secondary toggle-form">Remplir le formulaire</button>
    <div class="custom-order">
      <label>Type : <select class="co-type"><option value="illimité">Illimité</option><option value="limité">Limité</option></select></label>
      <label>Quantité (Mo) : <input type="number" class="co-quantity" placeholder="5000"></label>
      <label>Durée (jours) : <input type="number" class="co-days" placeholder="30"></label>
      <button class="co-send">Acheter</button>
    </div>
  </section>

  <!-- TARIFS DÉTAILLÉS -->
  <section id="tarifs">
    <h2>Tarifs détaillés</h2>
    <div class="tarif-grid">
      <!-- Facebook -->
      <div class="tarif-section">
        <h3>Facebook</h3>
        <table>
          <thead><tr><th>Service</th><th>Quantité</th><th>Prix (FCFA)</th></tr></thead>
          <tbody>
            <tr><td>Followers</td><td>1 000</td><td>2 100</td></tr>
            <tr><td>Followers</td><td>5 000</td><td>9 500</td></tr>
            <tr><td>Followers</td><td>10 000</td><td>19 200</td></tr>
            <tr><td>Likes/Vues</td><td>1 000</td><td>1 500</td></tr>
            <tr><td>Likes/Vues</td><td>5 000</td><td>6 500</td></tr>
            <tr><td>Likes/Vues</td><td>10 000</td><td>11 500</td></tr>
            <!-- … -->
          </tbody>
        </table>
      </div>
      <!-- TikTok, Instagram, YouTube (structure identique) -->
    </div>
    <div style="text-align:center; margin-top:15px;">
      <button class="btn btn-secondary toggle-form">Personnaliser votre commande</button>
      <div class="custom-order">
        <label>Plateforme : <select class="co-platform"><option>Facebook</option><option>TikTok</option><option>Instagram</option><option>YouTube</option></select></label>
        <label>Service : <select class="co-service"></select></label>
        <label>Quantité : <input type="number" class="co-quantity"></label>
        <label>Lien : <input type="text" class="co-link"></label>
        <p class="price-estimate"></p>
        <button class="co-send">Acheter</button>
      </div>
    </div>
  </section>

  <!-- INSCRIPTION / CONNEXION -->
  <section id="inscription" class="form-container">
    <h3>Créer un compte ou se connecter</h3>
    <form id="registerForm">
      <input type="text" placeholder="Nom" required>
      <input type="text" placeholder="Prénom" required>
      <input type="email" placeholder="E‑mail" required>
      <input type="date" placeholder="Date de naissance" required>
      <input type="text" placeholder="Pays" required>
      <input type="password" placeholder="Mot de passe" required>
      <button type="submit" class="btn-form">S'inscrire</button>
    </form>
    <form id="loginForm">
      <input type="email" placeholder="E‑mail" required>
      <input type="password" placeholder="Mot de passe" required>
      <button type="submit" class="btn-form">Se connecter</button>
    </form>
  </section>

  <!-- PROFIL UTILISATEUR -->
  <section id="profile-section">
    <h3>Mon Profil</h3>
    <p id="user-email"></p>
    <label>Nom : <input id="profile-name" type="text"></label>
    <label>Téléphone : <input id="profile-phone" type="text"></label>
    <label>Photo : <input id="profile-image" type="file"></label>
    <img id="profile-pic" style="display:none; max-width:150px; margin:10px 0;">
    <button id="updateProfileBtn" style="background:#047aed;color:#fff;">Mettre à jour</button>
    <button id="logoutBtn" style="background:#ffc107;color:#222;">Se déconnecter</button>
  </section>

  <!-- TÉMOIGNAGE -->
  <div class="testimonial"><img src="img/testimonial.png" alt="Avis client"></div>

  <!-- À PROPOS -->
  <section id="a-propos">
    <h2>Pourquoi choisir Social Boost Horizon ?</h2>
    <ul>
      <li>Expertise & professionnalisme</li>
      <li>Approche personnalisée</li>
      <li>Accompagnement complet</li>
      <li>Résultats mesurables</li>
      <li>Tarifs compétitifs</li>
    </ul>
  </section>

  <!-- FOOTER -->
  <footer>
    <p>Suivez-nous : <a href="#">Facebook</a> | <a href="#">TikTok</a> | <a href="#">Instagram</a></p>
    <p>© 2025 Social Boost Horizon | Napopolo Exaucé</p>
  </footer>

  <!-- DB TEST OUTPUT -->
  <div id="output" style="background:#eee;padding:10px;margin:20px;"></div>

  <!-- ========== SCRIPT PRINCIPAL (ESM) ========== -->
  <script type="module">
    // 1) Import des SDK Firebase v11
    import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-app.js";
    import { getAnalytics } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-analytics.js";
    import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-auth.js";
    import { getFirestore, doc, setDoc, getDoc, updateDoc } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-firestore.js";
    import { getStorage, ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-storage.js";
    import { getDatabase, ref as dbRef, set as dbSet, onValue } from "https://www.gstatic.com/firebasejs/11.6.0/firebase-database.js";

    // 2) Votre configuration Firebase
    const firebaseConfig = {
      apiKey:            "AIzaSyBvVXfiFmnIVEZzaugsxt43ov0YU7quIhY",
      authDomain:        "monsiteweb-beaee.firebaseapp.com",
      databaseURL:       "https://monsiteweb-beaee-default-rtdb.firebaseio.com",
      projectId:         "monsiteweb-beaee",
      storageBucket:     "monsiteweb-beaee.appspot.com",
      messagingSenderId: "847850292961",
      appId:             "1:847850292961:web:fab966f77e3a512cc119a0",
      measurementId:     "G-4FD3J9HRSQ"
    };

    // 3) Initialisation
    const app       = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);  
    const auth      = getAuth(app);          
    const db        = getFirestore(app);     
    const storage   = getStorage(app);       
    const rtdb      = getDatabase(app);      
    window.auth    = auth;                   // pour onclick nav

    // 4) Test Realtime DB
    dbSet(dbRef(rtdb,'test/'),{ msg:"OK", ts:Date.now() });
    onValue(dbRef(rtdb,'test/'),snap=> document.getElementById('output').innerText=JSON.stringify(snap.val(),null,2));

    // 5) Inscription
    document.getElementById('registerForm').addEventListener('submit',async e=>{
      e.preventDefault();
      const f=e.target.elements;
      try {
        const uc = await createUserWithEmailAndPassword(auth,f[2].value,f[5].value);
        await setDoc(doc(db,'users',uc.user.uid),{ email:f[2].value,name:"",phone:"",profileImageUrl:"" });
        alert("Inscription réussie");
        showProfile(uc.user);
      } catch(err){ alert("Erreur inscription: "+err.message); }
    });

    // 6) Connexion
    document.getElementById('loginForm').addEventListener('submit',async e=>{
      e.preventDefault();
      const f=e.target.elements;
      try {
        const uc = await signInWithEmailAndPassword(auth,f[0].value,f[1].value);
        alert("Connexion réussie");
        showProfile(uc.user);
      } catch(err){ alert("Erreur connexion: "+err.message); }
    });

    // 7) Affichage du profil
    async function showProfile(user){
      document.getElementById('inscription').style.display='none';
      const sec = document.getElementById('profile-section');
      sec.style.display='block';
      document.getElementById('user-email').textContent = `Connecté : ${user.email}`;
      const snap = await getDoc(doc(db,'users',user.uid));
      if(snap.exists()){
        const d = snap.data();
        document.getElementById('profile-name').value  = d.name || "";
        document.getElementById('profile-phone').value = d.phone || "";
        if(d.profileImageUrl){
          const img = document.getElementById('profile-pic');
          img.src = d.profileImageUrl; img.style.display='block';
        }
      }
    }

    // 8) Mise à jour du profil
    document.getElementById('updateProfileBtn').addEventListener('click',async()=>{
      const u = auth.currentUser;
      if(!u) return alert("Aucun utilisateur");
      const name  = document.getElementById('profile-name').value;
      const phone = document.getElementById('profile-phone').value;
      const file  = document.getElementById('profile-image').files[0];
      const udoc  = doc(db,'users',u.uid);
      try {
        if(file){
          const r   = ref(storage,`profileImages/${u.uid}.jpg`);
          const up  = await uploadBytes(r,file);
          const url = await getDownloadURL(up.ref);
          await updateDoc(udoc,{ name,phone,profileImageUrl:url });
          alert("Profil + photo mis à jour");
        } else {
          await updateDoc(udoc,{ name,phone });
          alert("Profil mis à jour");
        }
        showProfile(u);
      } catch(err){ alert("Erreur mise à jour : "+err.message); }
    });

    // 9) Déconnexion
    document.getElementById('logoutBtn').addEventListener('click',async()=>{
      await signOut(auth);
      document.getElementById('profile-section').style.display='none';
      document.getElementById('inscription').style.display='block';
      alert("Déconnecté");
    });

    // 10) État d'authentification
    onAuthStateChanged(auth,u=>{
      if(u) showProfile(u);
      else {
        document.getElementById('inscription').style.display='block';
        document.getElementById('profile-section').style.display='none';
      }
    });

    // 11) Menu & recherche
    document.getElementById('hamburger-btn').onclick = ()=> {
      const m = document.getElementById('nav-menu');
      m.style.display = m.style.display==='block'?'none':'block';
    };
    function scrollToTop(){ window.scrollTo({top:0,behavior:'smooth'}); closeMenu(); }
    function showOrders(){ alert("À venir…"); closeMenu(); }
    function logout(){/* sur bouton déjà */ closeMenu(); }
    function closeMenu(){ document.getElementById('nav-menu').style.display='none'; }

    // 12) Commandes dynamiques
    const pricingData = {
      facebook:   {"Followers":{1000:2100,5000:9500,10000:19200},"Likes/Vues":{1000:1500,5000:6500,10000:11500}},
      tiktok:     {"Abonnés":{1000:2500,2000:5000,5000:9500,10000:19500}},
      instagram:  {"Abonnés":{1000:2500,2000:5000,5000:9500,10000:19500}},
      youtube:    {"Abonnés":{1000:5000,2000:9500,5000:24500,10000:50000}}
    };

    document.querySelectorAll('.toggle-form').forEach(btn=>{
      btn.onclick = ()=>{
        const f = btn.closest('section').querySelector('.custom-order');
        f.style.display = f.style.display==='block'?'none':'block';
        if(f.querySelector('.co-platform')) initBoostForm(f);
        else initGenericForm(f);
      };
    });

    function initBoostForm(form){
      const p = form.querySelector('.co-platform'),
            s = form.querySelector('.co-service'),
            q = form.querySelector('.co-quantity'),
            pe= form.querySelector('.price-estimate');
      function updateServices(){
        s.innerHTML='';
        Object.keys(pricingData[p.value]).forEach(k=>s.add(new Option(k,k)));
        updatePrice();
      }
      function updatePrice(){
        const pr = pricingData[p.value][s.value]?.[q.value];
        pe.textContent = pr?`Prix estimé : ${pr} FCFA`:'Prix indisponible';
      }
      p.onchange=updateServices; s.onchange=updatePrice; q.oninput=updatePrice;
      updateServices();
      form.querySelector('.co-send').onclick = ()=>{
        if(!q.value) return alert('Quantité ?');
        let msg = `Je commande ${q.value} ${s.value} sur ${p.value}. Prix : ${pricingData[p.value][s.value][q.value]||'–'} FCFA.`;
        const ln = form.querySelector('.co-link')?.value.trim();
        if(ln) msg += ` Lien : ${ln}`;
        window.open(`https://wa.me/237699853665?text=${encodeURIComponent(msg)}`,'_blank');
      };
    }

    function initGenericForm(form){
      const btn = form.querySelector('.co-send');
      if(btn.dataset.ini) return; btn.dataset.ini=1;
      btn.onclick = ()=>{
        let msg="Nouvelle commande:\n";
        form.querySelectorAll('input,textarea,select').forEach(f=>{
          const lbl = f.parentElement.tagName==='LABEL'?f.parentElement.firstChild.textContent.trim():f.placeholder||'';
          msg += `${lbl}: ${f.value}\n`;
        });
        window.open(`https://wa.me/237699853665?text=${encodeURIComponent(msg)}`,'_blank');
      };
    }

    // 13) Recherche dans la page
    document.getElementById('site-search').oninput = e=>{
      const q=e.target.value.toLowerCase();
      document.querySelectorAll('section, .banner, .testimonial').forEach(sec=>
        sec.style.display = (!q||sec.innerText.toLowerCase().includes(q))?'':'none'
      );
    };
  </script>
</body>
</html>